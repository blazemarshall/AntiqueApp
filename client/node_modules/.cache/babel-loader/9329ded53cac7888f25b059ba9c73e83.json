{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\robot\\\\Desktop\\\\Product\\\\AntiqueApp\\\\client\\\\src\\\\components\\\\EditAntique\\\\EditAntique.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { findAntique, updateAntique } from \"../../utils/api\";\nimport ErrorAlert from \"../commonFiles/ErrorAlert\";\nimport AntiqueForm from \"../commonFiles/AntiqueForm/AntiqueForm\";\nimport \"./EditAntique.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditAntique() {\n  _s();\n  const [errors, setErrors] = useState(null);\n  const [antique, setAntique] = useState(null);\n  const [form, setForm] = useState([]);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    async function loadAntique() {\n      let ac = new AbortController();\n      try {\n        const SingleAntique = await findAntique(id, ac.signal);\n        setForm(SingleAntique);\n      } catch (err) {\n        setErrors(err);\n      }\n      return () => ac.abort();\n    }\n    loadAntique();\n  }, [id]);\n  const changeHandler = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  async function submitHandler(form) {\n    const ac = new AbortController();\n    try {\n      await updateAntique(form, ac.signal);\n    } catch (err) {\n      setErrors(err);\n      throw err;\n    }\n    return () => ac.abort;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Edit-page-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"title-container\",\n        children: \"Edit Your Antique\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(AntiqueForm, {\n        submitHandler: submitHandler,\n        initialFields: form,\n        editBool: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ErrorAlert, {\n        err: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(EditAntique, \"RNJRxmHCDASYX8IhVrMbVx31EfI=\", false, function () {\n  return [useParams];\n});\n_c = EditAntique;\nvar _c;\n$RefreshReg$(_c, \"EditAntique\");","map":{"version":3,"names":["useEffect","useState","useParams","findAntique","updateAntique","ErrorAlert","AntiqueForm","EditAntique","errors","setErrors","antique","setAntique","form","setForm","id","loadAntique","ac","AbortController","SingleAntique","signal","err","abort","changeHandler","e","target","name","value","submitHandler"],"sources":["C:/Users/robot/Desktop/Product/AntiqueApp/client/src/components/EditAntique/EditAntique.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router\";\r\nimport { findAntique, updateAntique } from \"../../utils/api\";\r\nimport ErrorAlert from \"../commonFiles/ErrorAlert\";\r\nimport AntiqueForm from \"../commonFiles/AntiqueForm/AntiqueForm\";\r\nimport \"./EditAntique.css\"\r\n\r\nexport default function EditAntique(){\r\n    \r\n    const [errors,setErrors] = useState(null);\r\n    const [antique,setAntique] = useState(null);\r\n    const [form,setForm] = useState([])\r\n    const {id} = useParams();\r\n\r\nuseEffect(()=>{\r\n    async function loadAntique(){\r\n        let ac= new AbortController();\r\n        try{\r\n            const SingleAntique = await findAntique(id,ac.signal)\r\n            setForm(SingleAntique)\r\n        } catch(err){setErrors(err)}\r\n        return ()=> ac.abort();\r\n    }\r\n    loadAntique();\r\n},[id])\r\n\r\n\r\n\r\n const changeHandler = e =>{\r\n     setForm({...form,[e.target.name]:e.target.value})\r\n    }\r\n    \r\n    async function submitHandler(form){\r\n        const ac = new AbortController();\r\n        try{\r\n            await updateAntique(form,ac.signal);\r\n        } catch(err){\r\n            setErrors(err);\r\n            throw err;\r\n        }\r\n        return ()=> ac.abort\r\n    }\r\n\r\n    return (\r\n    <div className=\"Edit-page-container\">\r\n        <div>\r\n\r\n    <h3 className=\"title-container\">Edit Your Antique</h3>\r\n    <AntiqueForm submitHandler={submitHandler} initialFields={form} editBool={true}/>\r\n    <ErrorAlert err={errors} />\r\n        </div>\r\n</div>\r\n)\r\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,WAAW,EAAEC,aAAa,QAAQ,iBAAiB;AAC5D,OAAOC,UAAU,MAAM,2BAA2B;AAClD,OAAOC,WAAW,MAAM,wCAAwC;AAChE,OAAO,mBAAmB;AAAA;AAE1B,eAAe,SAASC,WAAW,GAAE;EAAA;EAEjC,MAAM,CAACC,MAAM,EAACC,SAAS,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACzC,MAAM,CAACS,OAAO,EAACC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC3C,MAAM,CAACW,IAAI,EAACC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAM;IAACa;EAAE,CAAC,GAAGZ,SAAS,EAAE;EAE5BF,SAAS,CAAC,MAAI;IACV,eAAee,WAAW,GAAE;MACxB,IAAIC,EAAE,GAAE,IAAIC,eAAe,EAAE;MAC7B,IAAG;QACC,MAAMC,aAAa,GAAG,MAAMf,WAAW,CAACW,EAAE,EAACE,EAAE,CAACG,MAAM,CAAC;QACrDN,OAAO,CAACK,aAAa,CAAC;MAC1B,CAAC,CAAC,OAAME,GAAG,EAAC;QAACX,SAAS,CAACW,GAAG,CAAC;MAAA;MAC3B,OAAO,MAAKJ,EAAE,CAACK,KAAK,EAAE;IAC1B;IACAN,WAAW,EAAE;EACjB,CAAC,EAAC,CAACD,EAAE,CAAC,CAAC;EAIN,MAAMQ,aAAa,GAAGC,CAAC,IAAG;IACtBV,OAAO,CAAC;MAAC,GAAGD,IAAI;MAAC,CAACW,CAAC,CAACC,MAAM,CAACC,IAAI,GAAEF,CAAC,CAACC,MAAM,CAACE;IAAK,CAAC,CAAC;EAClD,CAAC;EAED,eAAeC,aAAa,CAACf,IAAI,EAAC;IAC9B,MAAMI,EAAE,GAAG,IAAIC,eAAe,EAAE;IAChC,IAAG;MACC,MAAMb,aAAa,CAACQ,IAAI,EAACI,EAAE,CAACG,MAAM,CAAC;IACvC,CAAC,CAAC,OAAMC,GAAG,EAAC;MACRX,SAAS,CAACW,GAAG,CAAC;MACd,MAAMA,GAAG;IACb;IACA,OAAO,MAAKJ,EAAE,CAACK,KAAK;EACxB;EAEA,oBACA;IAAK,SAAS,EAAC,qBAAqB;IAAA,uBAChC;MAAA,wBAEJ;QAAI,SAAS,EAAC,iBAAiB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAuB,eACtD,QAAC,WAAW;QAAC,aAAa,EAAEM,aAAc;QAAC,aAAa,EAAEf,IAAK;QAAC,QAAQ,EAAE;MAAK;QAAA;QAAA;QAAA;MAAA,QAAE,eACjF,QAAC,UAAU;QAAC,GAAG,EAAEJ;MAAO;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA;EACjB;IAAA;IAAA;IAAA;EAAA,QACR;AAEN;AAAC,GA9CuBD,WAAW;EAAA,QAKlBL,SAAS;AAAA;AAAA,KALFK,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module"}